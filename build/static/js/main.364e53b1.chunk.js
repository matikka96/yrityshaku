(this.webpackJsonpyrityshaku=this.webpackJsonpyrityshaku||[]).push([[0],{34:function(e,t,a){e.exports=a(59)},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),o=a.n(s),l=(a(39),a(25)),i=a(26),c=a(31),m=a(27),d=a(32),u=a(28),h=a.n(u),f=a(62),p=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={baseUrl:"http://avoindata.prh.fi/bis/v1",payload:{totalResults:"true",maxResults:"1000",resultsFrom:"0",companyRegistrationFrom:"2014-02-28"},loadingData:!1,streetAddressPostCode:"",registeredOffice:"",businessLineCode:"",showModal:!1},a.loadData=function(){var e=a.state,t=e.baseUrl,n=e.streetAddressPostCode,r=e.registeredOffice,s=e.businessLineCode,o=Object.assign({},a.state.payload);""!==n&&(o.streetAddressPostCode=n),""!==r&&(o.registeredOffice=r),""!==s&&(o.businessLineCode=s),a.setState({loadingData:!0}),h.a.get(t,{params:o}).then((function(e){console.log(o),console.log(e);var t="",a=e.data.results,l=Object.keys(a[0]).join();t+=l+"\n",a.forEach((function(e){t+=Object.values(e).join()+"\n"}));var i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),i.setAttribute("download","yritykset".concat(r?"-".concat(r):"").concat(n?"-".concat(n):"").concat(s?"-".concat(s):"",".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)})).then(a.resetParams).catch((function(e){a.setState({loadingData:!1},(function(){return alert("V\xe4\xe4rin sy\xf6tetyt parametrit. \n ".concat(e))}))}))},a.resetParams=function(){a.setState({registeredOffice:"",streetAddressPostCode:"",businessLineCode:"",loadingData:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.streetAddressPostCode,n=t.registeredOffice,s=t.businessLineCode;return r.a.createElement("div",{className:"container"},r.a.createElement(f.a,{show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})},centered:!0},r.a.createElement(f.a.Header,{closeButton:!0},r.a.createElement(f.a.Title,null,"FAQ")),r.a.createElement(f.a.Body,null,r.a.createElement("strong",null,"Mit\xe4 t\xe4m\xe4 ty\xf6kalu tekee?"),r.a.createElement("p",null,"Ty\xf6kalun tarkoituksena on hakea yrityksi\xe4 ja niiden tietoja toimialan ja maantieteellisen sijainnin perusteella. Hakutulos on ladattavissa CSV formaatissa. Sis\xe4lt\xf6 haetaan"," ",r.a.createElement("a",{href:"https://avoindata.prh.fi/index.html",target:"_blank",rel:"noopener noreferrer"},"PRH"),":n avoimen datan rajapinnasta."),r.a.createElement("strong",null,"K\xe4ytt\xf6ohjeet"),r.a.createElement("p",{className:"m-0"},"Haku voidaan suorittaa seuraavia parametreja hy\xf6dynt\xe4en:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Kotipaikka ",r.a.createElement("span",{className:"ml-2 small"},"Oltava tarkka vastine!")),r.a.createElement("li",null,"Toimiala",r.a.createElement("a",{className:"ml-2 small",href:"http://www.stat.fi/meta/luokitukset/toimiala/001-2008/index.html",target:"_blank",rel:"noopener noreferrer"},"lis\xe4tietoa")),r.a.createElement("li",null,"Postinumero",r.a.createElement("a",{className:"ml-2 small",href:"https://fi.wikipedia.org/wiki/Luettelo_Suomen_postinumeroista_kunnittain",target:"_blank",rel:"noopener noreferrer"},"lis\xe4tietoa"))),r.a.createElement("span",null,"V\xe4hint\xe4\xe4n yksi parametri on k\xe4ytett\xe4v\xe4, mutta useampaakin voi k\xe4ytt\xe4\xe4 samanaikaisesti. Jos parametri(t) on sy\xf6tetty puutteellisesti, sovellus ilmoittaa asiasta."))),r.a.createElement("div",{className:"d-flex align-items-center justify-content-center min-vh-100"},r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-header"},"Yrityshaku",r.a.createElement("button",{className:"btn float-right p-0",onClick:function(){return e.setState({showModal:!0})}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),r.a.createElement("line",{x1:"12",y1:"17",x2:"12",y2:"17"})))),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col"},r.a.createElement("label",{htmlFor:"registered-office"},"Kotipaikka"),r.a.createElement("input",{type:"text",className:"form-control",id:"registered-office",placeholder:"esim. Lappeenranta",value:this.state.registeredOffice,onChange:function(t){return e.setState({registeredOffice:t.target.value})}}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"registered-office"},"Toimialakoodi"),r.a.createElement("a",{className:"ml-2 small",href:"http://www.stat.fi/meta/luokitukset/toimiala/001-2008/index.html",target:"_blank",rel:"noopener noreferrer"},"lis\xe4tietoa"),r.a.createElement("input",{type:"text",className:"form-control",id:"registered-office",placeholder:"esim. 07",value:this.state.businessLineCode,onChange:function(t){return!isNaN(t.target.value)&&t.target.value.length<3?e.setState({businessLineCode:t.target.value}):null}})),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"post-code"},"Postinumero"),r.a.createElement("a",{className:"ml-2 small",href:"https://fi.wikipedia.org/wiki/Luettelo_Suomen_postinumeroista_kunnittain",target:"_blank",rel:"noopener noreferrer"},"lis\xe4tietoa"),r.a.createElement("input",{type:"text",className:"form-control",id:"post-code",placeholder:"esim. 53850",value:this.state.streetAddressPostCode,min:"9999",max:"99999",onChange:function(t){return!isNaN(t.target.value)&&t.target.value.length<6?e.setState({streetAddressPostCode:t.target.value}):null}}))))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",disabled:""===this.state.registeredOffice&&""===this.state.streetAddressPostCode&&""===this.state.businessLineCode,onClick:this.resetParams},"Tyhjenn\xe4"),r.a.createElement("button",{type:"button",className:"btn btn-dark float-right",disabled:n.length<3&&5!==a.length&&2!==s.length,onClick:this.loadData},this.state.loadingData?r.a.createElement("div",{className:"spinner-border spinner-border-sm mr-2",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):null,"Lataa yritystiedot")))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.364e53b1.chunk.js.map